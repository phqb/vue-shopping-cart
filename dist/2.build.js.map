{"version":3,"sources":["webpack:///2.build.js","webpack:///./src/Profile.vue","webpack:///Profile.vue","webpack:///PurchasedList.vue","webpack:///./src/Profile.vue?5071","webpack:///./src/PurchasedList.vue?b435","webpack:///./src/PurchasedList.vue","webpack:///./src/Profile.vue?1ca0","webpack:///./src/PurchasedList.vue?b893","webpack:///./src/Profile.vue?5cc9","webpack:///./src/PurchasedList.vue?c0a9"],"names":["webpackJsonp","119","module","exports","__webpack_require__","injectStyle","ssrContext","Component","131","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__EventBus_js__","__WEBPACK_IMPORTED_MODULE_1__User_js__","__WEBPACK_IMPORTED_MODULE_2__PurchasedList_vue__","__WEBPACK_IMPORTED_MODULE_2__PurchasedList_vue___default","n","__WEBPACK_IMPORTED_MODULE_3_jdenticon__","__WEBPACK_IMPORTED_MODULE_3_jdenticon___default","__WEBPACK_IMPORTED_MODULE_4_blueimp_md5__","__WEBPACK_IMPORTED_MODULE_4_blueimp_md5___default","components","purchased-list","a","data","email","username","location","joinDate","methods","hasLogin","getUserAvatar","toSvg","this","loadData","login","getLogin","user","getUser","token","Date","toDateString","mounted","$emit","beforeCreate","_this","$on","$forceUpdate","132","__WEBPACK_IMPORTED_MODULE_0__User_js__","purchasedItems","loadingItems","hasItem","length","purchased","getPurchases","dataRef","firebase","database","ref","loadedCount","i","code","orderByKey","equalTo","toString","on","snapshot","val","item","push","135","139","152","154","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","src","_s","to","staticRenderFns","158","style","display","_l","key","name","params","image","alt","price","_e","165","content","locals","169"],"mappings":"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","file":"2.build.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(165)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(131),\n  /* template */\n  __webpack_require__(154),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__EventBus_js__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__User_js__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__PurchasedList_vue__ = __webpack_require__(152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__PurchasedList_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__PurchasedList_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jdenticon__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jdenticon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jdenticon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_blueimp_md5__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_blueimp_md5___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_blueimp_md5__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    components: {\n        'purchased-list': __WEBPACK_IMPORTED_MODULE_2__PurchasedList_vue___default.a\n    },\n\n    data: function data() {\n        return {\n            email: '',\n            username: '',\n            location: '',\n            joinDate: ''\n        };\n    },\n\n\n    methods: {\n        hasLogin: function hasLogin() {\n            return __WEBPACK_IMPORTED_MODULE_1__User_js__[\"a\" /* default */].hasLogin();\n        },\n        getUserAvatar: function getUserAvatar() {\n            return 'data:image/svg+xml,' + __WEBPACK_IMPORTED_MODULE_3_jdenticon___default.a.toSvg(__WEBPACK_IMPORTED_MODULE_4_blueimp_md5___default()(this.email), 256);\n        },\n        loadData: function loadData() {\n            var login = __WEBPACK_IMPORTED_MODULE_1__User_js__[\"a\" /* default */].getLogin();\n            var user = __WEBPACK_IMPORTED_MODULE_1__User_js__[\"a\" /* default */].getUser(login.email, login.token);\n            if (user) {\n                this.email = user.email;\n                this.username = user.username;\n                this.location = user.location;\n                this.joinDate = new Date(user.joinDate).toDateString();\n            }\n        }\n    },\n\n    mounted: function mounted() {\n        __WEBPACK_IMPORTED_MODULE_0__EventBus_js__[\"a\" /* EventBus */].$emit('componentMounted');\n        this.loadData();\n    },\n    beforeCreate: function beforeCreate() {\n        var _this = this;\n\n        __WEBPACK_IMPORTED_MODULE_0__EventBus_js__[\"a\" /* EventBus */].$on('logout', function () {\n            return _this.$forceUpdate();\n        });\n    }\n});\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__User_js__ = __webpack_require__(17);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            purchasedItems: [],\n            loadingItems: false\n        };\n    },\n\n\n    methods: {\n        hasLogin: function hasLogin() {\n            return __WEBPACK_IMPORTED_MODULE_0__User_js__[\"a\" /* default */].hasLogin();\n        },\n        hasItem: function hasItem() {\n            return this.purchasedItems.length != 0;\n        },\n\n\n        /**\n         * Load cart informations from server\n         */\n        loadData: function loadData() {\n            var _this = this;\n\n            if (this.loadingItems) return;\n\n            this.loadingItems = true;\n\n            var purchased = __WEBPACK_IMPORTED_MODULE_0__User_js__[\"a\" /* default */].getPurchases(__WEBPACK_IMPORTED_MODULE_0__User_js__[\"a\" /* default */].getLogin().email);\n            if (!purchased.length) {\n                this.loadingItems = false;\n                return;\n            }\n\n            var dataRef = firebase.database().ref(\"/Products\");\n            var loadedCount = 0;\n\n            // Load cart informations from server by codes\n\n            var _loop = function _loop() {\n                var code = purchased[i];\n                dataRef.orderByKey().equalTo(code.toString()).on(\"value\", function (snapshot) {\n                    loadedCount += 1;\n                    if (loadedCount === purchased.length) _this.loadingItems = false;\n                    if (snapshot.val()) {\n                        var item = snapshot.val()[code];\n                        item.code = code;\n                        _this.purchasedItems.push(item);\n                    }\n                });\n            };\n\n            for (var i = 0; i < purchased.length; ++i) {\n                _loop();\n            }\n        }\n    },\n\n    mounted: function mounted() {\n        this.loadData();\n    }\n});\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(2)();\n// imports\n\n\n// module\nexports.push([module.i, \".profile{width:100%;display:flex;flex-wrap:wrap}.profile-info{width:300px}.profile-info-avatar{width:256px;height:auto}.profile-apps{width:calc(100% - 300px);min-width:500px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(2)();\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes blinking{0%{color:#d3d3d3}to{color:gray}}.animated-loading-text{width:250px;font-size:24px;height:24px;text-align:center;position:fixed;top:calc(50vh - 12px);left:calc(50vw - .5 * 250px);animation-name:blinking;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;display:none;z-index:99;text-shadow:0 0 16px #fff}.material-button{position:relative;padding:12px;cursor:pointer;border:none;outline:none;border-radius:1px;box-shadow:0 1px 4px rgba(0,0,0,.6);background-color:#009688;color:#fff;transition:background-color .3s;overflow:hidden;font-size:14px;text-align:center}.material-button:hover{background-color:#00897b}.material-button:before{content:\\\"\\\";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:rgba(236,240,241,.2);transform:translate(-50%,-50%)}.material-button:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.material-card{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.purchased-list{min-height:100vh}.purchased-list-item{height:48px;margin-top:16px;margin-bottom:16px}.purchased-list-item a,.purchased-list-item a:hover,.purchased-list-item a:link,.purchased-list-item a:visited{color:gray}.purchased-list-item-image{width:auto;height:100%;vertical-align:middle;display:inline-block}.purchased-list-item-name{margin:0;vertical-align:middle;font-weight:400;display:inline-block;font-size:16px;padding-left:16px}.purchased-list-item-price{vertical-align:middle;padding-right:16px;display:inline-block;font-weight:700}.purchased-list-item-remove-button{width:48px;font-size:32px;cursor:pointer;display:inline-block;vertical-align:middle;text-align:center}.purchased-list-item-wrapper-left{float:left;margin:0;height:100%}.purchased-list-item-wrapper-right{float:right;margin:0;height:100%}.purchased-list-checkout-button{width:200px;font-size:20px;margin-left:auto;margin-right:auto;display:block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(169)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(132),\n  /* template */\n  __webpack_require__(158),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.hasLogin()) ? _c('div', {\n    staticClass: \"profile\"\n  }, [_c('div', {\n    staticClass: \"profile-info\",\n    attrs: {\n      \"id\": \"profile\"\n    }\n  }, [_c('h2', [_vm._v(\"Profile\")]), _vm._v(\" \"), _c('img', {\n    staticClass: \"profile-info-avatar\",\n    attrs: {\n      \"src\": _vm.getUserAvatar()\n    }\n  }), _vm._v(\" \"), _c('h2', [_vm._v(_vm._s(_vm.username))]), _vm._v(\" \"), _c('h4', [_vm._v(\"Location: \" + _vm._s(_vm.location))]), _vm._v(\" \"), _c('h4', [_vm._v(\"Join date: \" + _vm._s(_vm.joinDate))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"profile-apps\"\n  }, [_c('h2', [_vm._v(\"Purchased apps\")]), _vm._v(\" \"), _c('purchased-list')], 1)]) : _c('div', [_vm._v(\"\\n    Please \"), _c('router-link', {\n    attrs: {\n      \"to\": \"/login\"\n    }\n  }, [_vm._v(\"login\")]), _vm._v(\" to continue.\\n\")], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.hasLogin()) ? _c('div', {\n    staticClass: \"purchased-list\"\n  }, [_c('div', {\n    staticClass: \"animated-loading-text\",\n    style: ({\n      display: _vm.loadingItems ? 'block' : 'none'\n    })\n  }, [_vm._v(\"\\n        Loading\\n    \")]), _vm._v(\" \"), (_vm.hasItem()) ? _c('div', _vm._l((_vm.purchasedItems), function(item) {\n    return _c('div', {\n      key: item.code,\n      staticClass: \"purchased-list-item material-card\"\n    }, [_c('router-link', {\n      attrs: {\n        \"to\": {\n          name: 'app',\n          params: {\n            code: item.code\n          }\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"purchased-list-item-wrapper-left\"\n    }, [_c('img', {\n      staticClass: \"purchased-list-item-image\",\n      attrs: {\n        \"src\": item.image,\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), _c('h1', {\n      staticClass: \"purchased-list-item-name\"\n    }, [_vm._v(_vm._s(item.name))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"purchased-list-item-wrapper-right\"\n    }, [_c('p', {\n      staticClass: \"purchased-list-item-price\"\n    }, [_vm._v(\"$\" + _vm._s(item.price))])])])], 1)\n  })) : _c('div', [_vm._v(\"\\n        You haven't purchased any apps. \"), _c('router-link', {\n    attrs: {\n      \"to\": \"/\"\n    }\n  }, [_vm._v(\"Go shopping\")]), _vm._v(\" and add some!.\\n    \")], 1)]) : _vm._e()\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(135);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(3)(\"3acaa55a\", content, true);\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(139);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(3)(\"abbb09d6\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.build.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2df589e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?indentedSyntax!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Profile.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Profile.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2df589e2\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Profile.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Profile.vue\n// module id = 119\n// module chunks = 2","<template>\n    <div v-if=\"hasLogin()\" class=\"profile\">\n        <div class=\"profile-info\" id=\"profile\">\n            <h2>Profile</h2>\n            <img v-bind:src=\"getUserAvatar()\" class=\"profile-info-avatar\">\n            <h2>{{ username }}</h2>\n            <h4>Location: {{ location }}</h4>\n            <h4>Join date: {{ joinDate }}</h4>\n        </div>\n        <div class=\"profile-apps\">\n            <h2>Purchased apps</h2>\n            <purchased-list></purchased-list>\n        </div>\n    </div>\n    <div v-else>\n        Please <router-link to=\"/login\">login</router-link> to continue.\n    </div>\n</template>\n\n<script>\nimport { EventBus } from './EventBus.js'\nimport User from './User.js'\nimport PurchasedList from './PurchasedList.vue'\nimport jdenticon from 'jdenticon'\nimport md5 from 'blueimp-md5'\n\nexport default {\n    components: {\n        'purchased-list': PurchasedList\n    },\n\n    data () {\n        return {\n            email: '',\n            username: '',\n            location: '',\n            joinDate: ''\n        }\n    },\n\n    methods: {\n        hasLogin () {\n            return User.hasLogin();\n        },\n        getUserAvatar () {\n            return 'data:image/svg+xml,' + jdenticon.toSvg(md5(this.email), 256)\n        },\n        loadData () {\n            var login = User.getLogin()\n            var user = User.getUser(login.email, login.token)\n            if (user) {\n                this.email = user.email\n                this.username = user.username\n                this.location = user.location\n                this.joinDate = (new Date(user.joinDate)).toDateString()\n            }\n        }\n    },\n\n    mounted () {\n        EventBus.$emit('componentMounted')\n        this.loadData()\n    },\n\n    beforeCreate () {\n        EventBus.$on('logout', () => this.$forceUpdate())\n    }\n}\n</script>\n\n<style lang=\"sass\">\n.profile\n    width: 100%\n    display: flex\n    flex-wrap: wrap\n\n    &-info\n        width: 300px\n\n        &-avatar\n            width: 256px\n            height: auto\n\n    &-apps\n        width: calc(100% - 300px)\n        min-width: 500px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Profile.vue?14f09e38","<template>\n    <div v-if=\"hasLogin()\" class=\"purchased-list\">\n        <div v-bind:style=\"{ display: loadingItems ? 'block' : 'none' }\"\n            class=\"animated-loading-text\">\n            Loading\n        </div>\n        <div v-if=\"hasItem()\">\n            <div v-for=\"item in purchasedItems\"\n                v-bind:key=\"item.code\"\n                class=\"purchased-list-item material-card\">\n                <router-link v-bind:to=\"{ name: 'app', params: { code: item.code }}\">\n                    <div class=\"purchased-list-item-wrapper-left\">\n                        <img v-bind:src=\"item.image\" alt=\"\" class=\"purchased-list-item-image\">\n                        <h1 class=\"purchased-list-item-name\">{{ item.name }}</h1>\n                    </div>\n                    <div class=\"purchased-list-item-wrapper-right\">\n                        <p class=\"purchased-list-item-price\">${{ item.price }}</p>\n                    </div>\n                </router-link>\n            </div>\n        </div>\n        <div v-else>\n            You haven't purchased any apps. <router-link to=\"/\">Go shopping</router-link> and add some!.\n        </div>\n    </div>  \n</template>\n\n<script>\nimport User from './User.js'\n\nexport default {\n    data () {\n        return {\n            purchasedItems: [],\n            loadingItems: false\n        }\n    },\n\n    methods: {\n        hasLogin () {\n            return User.hasLogin()\n        },\n\n        hasItem () {\n            return this.purchasedItems.length != 0\n        },\n\n        /**\n         * Load cart informations from server\n         */\n        loadData () {\n            if (this.loadingItems) \n                return\n\n            this.loadingItems = true\n            \n            var purchased = User.getPurchases(User.getLogin().email)\n            if (!purchased.length) {\n                this.loadingItems = false\n                return\n            }\n\n            var dataRef = firebase.database().ref(\"/Products\")\n            var loadedCount = 0\n\n            // Load cart informations from server by codes\n            for (var i = 0; i < purchased.length; ++i) {\n                let code = purchased[i]\n                dataRef.orderByKey()\n                    .equalTo(code.toString())\n                    .on(\"value\", (snapshot) => {\n                        loadedCount += 1\n                        if (loadedCount === purchased.length)\n                            this.loadingItems = false\n                        if (snapshot.val()) {\n                            var item = snapshot.val()[code]\n                            item.code = code\n                            this.purchasedItems.push(item)\n                        }\n                    })\n            }\n        },\n    },\n\n    mounted () {\n        this.loadData()\n    }\n}\n</script>\n\n<style lang=\"sass\">\n@import './assets/sass/components/animated-loading-text'\n@import './assets/sass/components/material-button'\n@import './assets/sass/components/material-card'\n\n.purchased-list \n    min-height: 100vh\n\n    &-item \n        height: 48px\n        margin-top: 16px\n        margin-bottom: 16px\n\n        a, a:hover, a:link, a:visited\n            color: gray\n\n        &-image \n            width: auto\n            height: 100%\n            vertical-align: middle\n            display: inline-block\n\n        &-name \n            margin: 0\n            vertical-align: middle\n            font-weight: normal\n            display: inline-block\n            font-size: 16px\n            padding-left: 16px\n        \n        &-price \n            vertical-align: middle\n            padding-right: 16px\n            display: inline-block\n            font-weight: bold\n\n        &-remove-button \n            width: 48px\n            font-size: 32px\n            cursor: pointer\n            display: inline-block\n            vertical-align: middle\n            text-align: center\n\n        &-wrapper-left \n            float: left\n            margin: 0\n            height: 100%\n\n        &-wrapper-right \n            float: right\n            margin: 0\n            height: 100%\n\n    &-checkout-button \n        width: 200px\n        font-size: 20px\n        margin-left: auto\n        margin-right: auto\n        display: block\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PurchasedList.vue?06f31521","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".profile{width:100%;display:flex;flex-wrap:wrap}.profile-info{width:300px}.profile-info-avatar{width:256px;height:auto}.profile-apps{width:calc(100% - 300px);min-width:500px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2df589e2\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?indentedSyntax!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/Profile.vue\n// module id = 135\n// module chunks = 2","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"@keyframes blinking{0%{color:#d3d3d3}to{color:gray}}.animated-loading-text{width:250px;font-size:24px;height:24px;text-align:center;position:fixed;top:calc(50vh - 12px);left:calc(50vw - .5 * 250px);animation-name:blinking;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;display:none;z-index:99;text-shadow:0 0 16px #fff}.material-button{position:relative;padding:12px;cursor:pointer;border:none;outline:none;border-radius:1px;box-shadow:0 1px 4px rgba(0,0,0,.6);background-color:#009688;color:#fff;transition:background-color .3s;overflow:hidden;font-size:14px;text-align:center}.material-button:hover{background-color:#00897b}.material-button:before{content:\\\"\\\";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:rgba(236,240,241,.2);transform:translate(-50%,-50%)}.material-button:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.material-card{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.purchased-list{min-height:100vh}.purchased-list-item{height:48px;margin-top:16px;margin-bottom:16px}.purchased-list-item a,.purchased-list-item a:hover,.purchased-list-item a:link,.purchased-list-item a:visited{color:gray}.purchased-list-item-image{width:auto;height:100%;vertical-align:middle;display:inline-block}.purchased-list-item-name{margin:0;vertical-align:middle;font-weight:400;display:inline-block;font-size:16px;padding-left:16px}.purchased-list-item-price{vertical-align:middle;padding-right:16px;display:inline-block;font-weight:700}.purchased-list-item-remove-button{width:48px;font-size:32px;cursor:pointer;display:inline-block;vertical-align:middle;text-align:center}.purchased-list-item-wrapper-left{float:left;margin:0;height:100%}.purchased-list-item-wrapper-right{float:right;margin:0;height:100%}.purchased-list-checkout-button{width:200px;font-size:20px;margin-left:auto;margin-right:auto;display:block}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-72ac79a7\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?indentedSyntax!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/PurchasedList.vue\n// module id = 139\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72ac79a7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?indentedSyntax!../node_modules/vue-loader/lib/selector?type=styles&index=0!./PurchasedList.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./PurchasedList.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72ac79a7\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./PurchasedList.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/PurchasedList.vue\n// module id = 152\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.hasLogin()) ? _c('div', {\n    staticClass: \"profile\"\n  }, [_c('div', {\n    staticClass: \"profile-info\",\n    attrs: {\n      \"id\": \"profile\"\n    }\n  }, [_c('h2', [_vm._v(\"Profile\")]), _vm._v(\" \"), _c('img', {\n    staticClass: \"profile-info-avatar\",\n    attrs: {\n      \"src\": _vm.getUserAvatar()\n    }\n  }), _vm._v(\" \"), _c('h2', [_vm._v(_vm._s(_vm.username))]), _vm._v(\" \"), _c('h4', [_vm._v(\"Location: \" + _vm._s(_vm.location))]), _vm._v(\" \"), _c('h4', [_vm._v(\"Join date: \" + _vm._s(_vm.joinDate))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"profile-apps\"\n  }, [_c('h2', [_vm._v(\"Purchased apps\")]), _vm._v(\" \"), _c('purchased-list')], 1)]) : _c('div', [_vm._v(\"\\n    Please \"), _c('router-link', {\n    attrs: {\n      \"to\": \"/login\"\n    }\n  }, [_vm._v(\"login\")]), _vm._v(\" to continue.\\n\")], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2df589e2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/Profile.vue\n// module id = 154\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.hasLogin()) ? _c('div', {\n    staticClass: \"purchased-list\"\n  }, [_c('div', {\n    staticClass: \"animated-loading-text\",\n    style: ({\n      display: _vm.loadingItems ? 'block' : 'none'\n    })\n  }, [_vm._v(\"\\n        Loading\\n    \")]), _vm._v(\" \"), (_vm.hasItem()) ? _c('div', _vm._l((_vm.purchasedItems), function(item) {\n    return _c('div', {\n      key: item.code,\n      staticClass: \"purchased-list-item material-card\"\n    }, [_c('router-link', {\n      attrs: {\n        \"to\": {\n          name: 'app',\n          params: {\n            code: item.code\n          }\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"purchased-list-item-wrapper-left\"\n    }, [_c('img', {\n      staticClass: \"purchased-list-item-image\",\n      attrs: {\n        \"src\": item.image,\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), _c('h1', {\n      staticClass: \"purchased-list-item-name\"\n    }, [_vm._v(_vm._s(item.name))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"purchased-list-item-wrapper-right\"\n    }, [_c('p', {\n      staticClass: \"purchased-list-item-price\"\n    }, [_vm._v(\"$\" + _vm._s(item.price))])])])], 1)\n  })) : _c('div', [_vm._v(\"\\n        You haven't purchased any apps. \"), _c('router-link', {\n    attrs: {\n      \"to\": \"/\"\n    }\n  }, [_vm._v(\"Go shopping\")]), _vm._v(\" and add some!.\\n    \")], 1)]) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-72ac79a7\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/PurchasedList.vue\n// module id = 158\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2df589e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/sass-loader/lib/loader.js?indentedSyntax!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Profile.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3acaa55a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2df589e2\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?indentedSyntax!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/Profile.vue\n// module id = 165\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72ac79a7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/sass-loader/lib/loader.js?indentedSyntax!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PurchasedList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"abbb09d6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-72ac79a7\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?indentedSyntax!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/PurchasedList.vue\n// module id = 169\n// module chunks = 2"],"sourceRoot":""}