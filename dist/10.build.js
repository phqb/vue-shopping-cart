webpackJsonp([10],{119:function(t,i,a){function e(t){a(171)}var n=a(1)(a(145),a(165),e,null,null);t.exports=n.exports},145:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=a(14),n=a.n(e),o=a(7),r=a(39),s=a(40),l=a(18);i.default={data:function(){return{cartItems:[],loadingItems:!1}},watch:{cartItems:{handler:function(t){r.a.setAll(n.a.flatMap(t,function(t){return t.code})),o.a.$emit("update-counter")},deep:!0}},methods:{hasItem:function(){return 0!=r.a.getCounter()},loadData:function(){var t=this;if(!this.loadingItems){this.loadingItems=!0;var i=r.a.getAll();if(!i.length)return void(this.loadingItems=!1);for(var a=firebase.database().ref("/Products"),e=0,n=0;n<i.length;++n)!function(){var o=i[n];a.orderByKey().equalTo(o.toString()).on("value",function(a){if(e+=1,e===i.length&&(t.loadingItems=!1),a.val()){var n=a.val()[o];n.code=o,t.cartItems.push(n)}})}()}},removeItem:function(t){this.cartItems.splice(this.cartItems.indexOf(t),1),o.a.$emit("push-notification",t.name+" has been removed from cart")},checkOut:function(){if(l.a.hasLogin())if(this.hasItem){var t=l.a.getLogin();s.a.validate(t.email,t.token)?(l.a.addPurchases(t.email,n.a.flatMap(this.cartItems,function(t){return t.code})),this.cartItems=[],o.a.$emit("push-notification","Done. Thank you for your purchases!")):o.a.$emit("push-notification","There was an error with your login details. Please try again.")}else o.a.$emit("push-notification","There is nothing to checkout!");else o.a.$emit("push-notification","Please login to continue to checkout.")}},mounted:function(){o.a.$emit("componentMounted"),this.loadData()},beforeCreate:function(){o.a.$emit("componentLoaded")}}},154:function(t,i,a){i=t.exports=a(2)(),i.push([t.i,'@keyframes blinking{0%{color:#d3d3d3}to{color:gray}}.animated-loading-text{width:250px;font-size:24px;height:24px;text-align:center;position:fixed;top:calc(50vh - 12px);left:calc(50vw - .5 * 250px);animation-name:blinking;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;display:none;z-index:99;text-shadow:0 0 16px #fff}.material-button{position:relative;padding:12px;cursor:pointer;border:none;outline:none;border-radius:1px;box-shadow:0 1px 4px rgba(0,0,0,.6);background-color:#009688;color:#fff;transition:background-color .3s;overflow:hidden;font-size:14px;text-align:center}.material-button:hover{background-color:#00897b}.material-button:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:rgba(236,240,241,.2);transform:translate(-50%,-50%)}.material-button:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.material-card{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.cart-list{min-height:100vh}.cart-list-item{height:48px;margin-top:16px;margin-bottom:16px}.cart-list-item a,.cart-list-item a:hover,.cart-list-item a:link,.cart-list-item a:visited{color:gray}.cart-list-item-image{width:auto;height:100%;vertical-align:middle;display:inline-block}.cart-list-item-name{margin:0;vertical-align:middle;font-weight:400;display:inline-block;font-size:16px;padding-left:16px}.cart-list-item-price{vertical-align:middle;padding-right:16px;display:inline-block;font-weight:700}.cart-list-item-remove-button{width:48px;font-size:16px;cursor:pointer;display:inline-block;vertical-align:middle;text-align:center}.cart-list-item-wrapper-left{float:left;margin:0;height:100%}.cart-list-item-wrapper-right{float:right;margin:0;height:100%}.cart-list-checkout-button{width:200px;margin-left:auto;margin-right:auto;display:block}',""])},165:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"cart-list",attrs:{id:"cart-list"}},[a("div",{staticClass:"animated-loading-text",style:{display:t.loadingItems?"block":"none"}},[t._v("\n        Loading\n    ")]),t._v(" "),t._l(t.cartItems,function(i){return a("div",{key:i.code,staticClass:"cart-list-item material-card"},[a("router-link",{attrs:{to:{name:"app",params:{code:i.code}}}},[a("div",{staticClass:"cart-list-item-wrapper-left"},[a("img",{staticClass:"cart-list-item-image",attrs:{src:i.image,alt:""}}),t._v(" "),a("h1",{staticClass:"cart-list-item-name"},[t._v(t._s(i.name))])])]),t._v(" "),a("div",{staticClass:"cart-list-item-wrapper-right"},[a("p",{staticClass:"cart-list-item-price"},[t._v("$"+t._s(i.price))]),t._v(" "),a("div",{staticClass:"cart-list-item-remove-button fa fa-remove",on:{click:function(a){t.removeItem(i)}}})])],1)}),t._v(" "),t.hasItem()?a("button",{staticClass:"cart-list-checkout-button material-button",on:{click:t.checkOut}},[a("span",{staticClass:"fa fa-credit-card"}),t._v("Â  Checkout\n    ")]):a("div",[t._v("\n        There is nothing in your cart. "),a("router-link",{attrs:{to:"/"}},[t._v("Go shopping")]),t._v(" and add some!.\n    ")],1)],2)},staticRenderFns:[]}},171:function(t,i,a){var e=a(154);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a(3)("c86a6344",e,!0)}});
//# sourceMappingURL=10.build.js.map