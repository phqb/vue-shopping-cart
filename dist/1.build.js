webpackJsonp([1,9],{115:function(t,o,e){function i(t){e(142)}var n=e(1)(e(127),e(138),i,null,null);t.exports=n.exports},121:function(t,o,e){function i(t){e(172)}var n=e(1)(e(147),e(166),i,null,null);t.exports=n.exports},124:function(t,o,e){"use strict";o.a={getViewPortHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop}}},127:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(39),n=e(7);o.default={props:["item"],data:function(){return{focused:!1}},methods:{emitFocusEvent:function(){this.$emit("updatechildfocus",this.item.code)},focus:function(){this.focused=!0},unfocus:function(){this.focused=!1},addToCart:function(){i.a.addItem(this.item.code),n.a.$emit("update-counter"),n.a.$emit("push-notification",this.item.name+" has been added to cart.")}}}},132:function(t,o,e){o=t.exports=e(2)(),o.push([t.i,".product-list-item{width:250px;height:117px;margin:32px;background:#fff;position:relative;transition-duration:.2s}.product-list-item-cover{width:100%;height:100%}.product-list-item-popup{width:100%;display:none;background:#fff;padding:16px;box-sizing:border-box}.product-list-item-popup a:hover,.product-list-item-popup a:link,.product-list-item-popup a:visited{text-decoration:none;color:gray}.product-list-item-popup-title{font-size:20px;width:100%;box-sizing:border-box;background:#fff}.product-list-item-popup-price{font-size:14px;font-weight:700;padding:8px}.product-list-item-popup-add-to-cart-button{width:100%;box-sizing:border-box;text-align:center}.product-list-item-popup-description{font-size:14px;width:100%;padding:10px;color:gray;background:#fff;box-sizing:border-box}.product-list-item-large{width:460px;height:fit-content;margin-left:calc(50% - 230px);margin-right:calc(50% - 230px)}",""])},138:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{key:t.item.code,staticClass:"product-list-item material-card",class:{"product-list-item-large ":t.focused},on:{click:t.emitFocusEvent}},[e("img",{staticClass:"product-list-item-cover",attrs:{src:t.item.image}}),t._v(" "),e("div",{staticClass:"product-list-item-popup",style:{display:t.focused?"block":"none"}},[e("router-link",{attrs:{to:{name:"app",params:{code:t.item.code}}}},[e("div",{staticClass:"product-list-item-popup-title"},[t._v("\n                "+t._s(t.item.name)+"  \n                "),e("small",[e("small",[e("span",{staticClass:"fa fa-info-circle"},[t._v("  Tap to view details")])])])])]),t._v(" "),e("p",{staticClass:"product-list-item-popup-description"},[t._v("\n            "+t._s(t.item.description)+"\n        ")]),t._v(" "),e("div",{staticClass:"product-list-item-popup-price"},[t._v("\n            $"+t._s(t.item.price)+"\n        ")]),t._v(" "),e("div",{staticClass:"product-list-item-popup-add-to-cart-button material-button",on:{click:function(o){t.addToCart(t.item)}}},[e("span",{staticClass:"fa fa-cart-plus"}),t._v("  Add to cart\n        ")])],1)])},staticRenderFns:[]}},142:function(t,o,e){var i=e(132);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(3)("15402677",i,!0)},147:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(14),n=e.n(i),a=e(115),r=e.n(a),s=e(124),c=e(7);o.default={name:"ProductList",data:function(){return{debug:!1,productItems:[],loadingMoreData:!1,lastScrollY:s.a.getScrollTop(),scrollEventHandler:this.scrollEvent.bind(this)}},components:{product:r.a},methods:{loadMoreData:function(t){var o=this;if(!this.loadingMoreData){var e=firebase.database().ref("/Products");this.debug&&console.log("Loading started"),this.loadingMoreData=!0;var i=e.orderByKey();this.productItems.length&&(i=i.endAt(""+(n.a.last(this.productItems).code-1))),i.limitToLast(t).on("value",function(t){var i=t.val();n.a.forInRight(i,function(t,e){o.productItems.push(n.a.assign(t,{code:e}))}),o.loadingMoreData=!1,e.off("value"),o.debug&&console.log("Loading completed")})}},updateChildFocus:function(t){n.a.each(this.$children,function(o){o.item.code===t?o.focus():o.unfocus()})},scrollEvent:function(t){var o=s.a.getScrollTop();if(!this.loadingMoreData&&o>this.lastScrollY){var e=this.$el.getBoundingClientRect();e.top+e.height<=s.a.getViewPortHeight()&&this.loadMoreData(10)}this.lastScrollY=o}},mounted:function(){c.a.$emit("componentMounted"),this.loadMoreData(10),window.addEventListener("scroll",this.scrollEventHandler)},beforeCreate:function(){c.a.$emit("componentLoaded")},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollEventHandler)}}},155:function(t,o,e){o=t.exports=e(2)(),o.push([t.i,'@keyframes blinking{0%{color:#d3d3d3}to{color:gray}}.animated-loading-text{width:250px;font-size:24px;height:24px;text-align:center;position:fixed;top:calc(50vh - 12px);left:calc(50vw - .5 * 250px);animation-name:blinking;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;display:none;z-index:99;text-shadow:0 0 16px #fff}.material-card{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.material-button{position:relative;padding:12px;cursor:pointer;border:none;outline:none;border-radius:1px;box-shadow:0 1px 4px rgba(0,0,0,.6);background-color:#009688;color:#fff;transition:background-color .3s;overflow:hidden;font-size:14px;text-align:center}.material-button:hover{background-color:#00897b}.material-button:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:rgba(236,240,241,.2);transform:translate(-50%,-50%)}.material-button:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.product-list{min-height:100vh;display:flex;flex-direction:row;width:100%;justify-content:space-around;flex-wrap:wrap;align-items:center}',""])},166:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"product-list"},[e("div",{staticClass:"animated-loading-text",style:{display:t.loadingMoreData?"block":"none"}},[t._v("\n        Loading\n    ")]),t._v(" "),t._l(t.productItems,function(o){return e("product",{key:o.code,attrs:{item:o},on:{updatechildfocus:t.updateChildFocus}})})],2)},staticRenderFns:[]}},172:function(t,o,e){var i=e(155);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(3)("05be7d35",i,!0)}});
//# sourceMappingURL=1.build.js.map