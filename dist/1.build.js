webpackJsonp([1],{118:function(t,o,i){function e(t){i(172)}var n=i(1)(i(130),i(162),e,null,null);t.exports=n.exports},121:function(t,o,i){"use strict";o.a={getViewPortHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop}}},129:function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=i(33),n=i(8);o.default={props:["item"],data:function(){return{focused:!1}},methods:{emitFocusEvent:function(){this.$emit("updatechildfocus",this.item.code)},focus:function(){this.focused=!0},unfocus:function(){this.focused=!1},addToCart:function(){e.a.addItem(this.item.code),n.a.$emit("update-counter"),n.a.$emit("push-notification",this.item.name+" has been added to cart.")}}}},130:function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=i(14),n=i.n(e),a=i(151),r=i.n(a),s=i(121),c=i(8);o.default={name:"ProductList",data:function(){return{debug:!0,productItems:[],loadingMoreData:!1,lastScrollY:s.a.getScrollTop(),scrollEventHandler:this.scrollEvent.bind(this)}},components:{product:r.a},methods:{loadMoreData:function(t){var o=this;if(!this.loadingMoreData){var i=firebase.database().ref("/Products");this.debug&&console.log("Loading started"),this.loadingMoreData=!0;var e=i.orderByKey();this.productItems.length&&(e=e.endAt(""+(n.a.last(this.productItems).code-1))),e.limitToLast(t).on("value",function(t){var e=t.val();n.a.forInRight(e,function(t,i){o.productItems.push(n.a.assign(t,{code:i}))}),o.loadingMoreData=!1,i.off("value"),o.debug&&console.log("Loading completed")})}},updateChildFocus:function(t){n.a.each(this.$children,function(o){o.item.code===t?o.focus():o.unfocus()})},scrollEvent:function(t){var o=s.a.getScrollTop();if(!this.loadingMoreData&&o>this.lastScrollY){var i=this.$el.getBoundingClientRect();i.top+i.height<=s.a.getViewPortHeight()&&this.loadMoreData(10)}this.lastScrollY=o}},mounted:function(){c.a.$emit("componentMounted"),this.loadMoreData(10),window.addEventListener("scroll",this.scrollEventHandler)},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollEventHandler)}}},142:function(t,o,i){o=t.exports=i(2)(),o.push([t.i,'@keyframes blinking{0%{color:#d3d3d3}to{color:gray}}.animated-loading-text{width:250px;font-size:24px;height:24px;text-align:center;position:fixed;top:calc(50vh - 12px);left:calc(50vw - .5 * 250px);animation-name:blinking;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;display:none;z-index:99;text-shadow:0 0 16px #fff}.material-card{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.material-button{position:relative;padding:12px;cursor:pointer;border:none;outline:none;border-radius:1px;box-shadow:0 1px 4px rgba(0,0,0,.6);background-color:#009688;color:#fff;transition:background-color .3s;overflow:hidden;font-size:14px;text-align:center}.material-button:hover{background-color:#00897b}.material-button:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:rgba(236,240,241,.2);transform:translate(-50%,-50%)}.material-button:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.product-list{min-height:100vh;display:flex;flex-direction:row;width:100%;justify-content:space-around;flex-wrap:wrap;align-items:center}',""])},143:function(t,o,i){o=t.exports=i(2)(),o.push([t.i,".product-list-item{width:250px;height:117px;margin:32px;background:#fff;position:relative;transition-duration:.2s}.product-list-item-cover{width:100%;height:100%}.product-list-item-popup{width:100%;display:none;background:#fff;padding:16px;box-sizing:border-box}.product-list-item-popup a:hover,.product-list-item-popup a:link,.product-list-item-popup a:visited{text-decoration:none;color:gray}.product-list-item-popup-title{font-size:20px;width:100%;box-sizing:border-box;background:#fff}.product-list-item-popup-price{font-size:14px;font-weight:700;padding:8px}.product-list-item-popup-add-to-cart-button{width:100%;box-sizing:border-box;text-align:center}.product-list-item-popup-description{font-size:14px;width:100%;padding:10px;color:gray;background:#fff;box-sizing:border-box}.product-list-item-large{width:460px;height:fit-content;margin-left:calc(50% - 230px);margin-right:calc(50% - 230px)}",""])},151:function(t,o,i){function e(t){i(173)}var n=i(1)(i(129),i(163),e,null,null);t.exports=n.exports},162:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"product-list"},[i("div",{staticClass:"animated-loading-text",style:{display:t.loadingMoreData?"block":"none"}},[t._v("\n        Loading\n    ")]),t._v(" "),t._l(t.productItems,function(o){return i("product",{key:o.code,attrs:{item:o},on:{updatechildfocus:t.updateChildFocus}})})],2)},staticRenderFns:[]}},163:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{key:t.item.code,staticClass:"product-list-item material-card",class:{"product-list-item-large ":t.focused},on:{click:t.emitFocusEvent}},[i("img",{staticClass:"product-list-item-cover",attrs:{src:t.item.image}}),t._v(" "),i("div",{staticClass:"product-list-item-popup",style:{display:t.focused?"block":"none"}},[i("router-link",{attrs:{to:{name:"app",params:{code:t.item.code}}}},[i("div",{staticClass:"product-list-item-popup-title"},[t._v("\n                "+t._s(t.item.name)+"  \n                "),i("small",[i("small",[i("span",{staticClass:"fa fa-info-circle"},[t._v("  Tap to view details")])])])])]),t._v(" "),i("p",{staticClass:"product-list-item-popup-description"},[t._v("\n            "+t._s(t.item.description)+"\n        ")]),t._v(" "),i("div",{staticClass:"product-list-item-popup-price"},[t._v("\n            $"+t._s(t.item.price)+"\n        ")]),t._v(" "),i("div",{staticClass:"product-list-item-popup-add-to-cart-button material-button",on:{click:function(o){t.addToCart(t.item)}}},[i("span",{staticClass:"fa fa-cart-plus"}),t._v("  Add to cart\n        ")])],1)])},staticRenderFns:[]}},172:function(t,o,i){var e=i(142);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i(3)("05be7d35",e,!0)},173:function(t,o,i){var e=i(143);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i(3)("15402677",e,!0)}});
//# sourceMappingURL=1.build.js.map