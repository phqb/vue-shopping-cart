webpackJsonp([2],{119:function(t,i,e){function a(t){e(165)}var n=e(1)(e(131),e(154),a,null,null);t.exports=n.exports},131:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(8),n=e(17),o=e(152),r=e.n(o),s=e(35),l=e.n(s),d=e(15),c=e.n(d);i.default={components:{"purchased-list":r.a},data:function(){return{email:"",username:"",location:"",joinDate:""}},methods:{hasLogin:function(){return n.a.hasLogin()},getUserAvatar:function(){return"data:image/svg+xml,"+l.a.toSvg(c()(this.email),256)},loadData:function(){var t=n.a.getLogin(),i=n.a.getUser(t.email,t.token);i&&(this.email=i.email,this.username=i.username,this.location=i.location,this.joinDate=new Date(i.joinDate).toDateString())}},mounted:function(){a.a.$emit("componentMounted"),this.loadData()},beforeCreate:function(){var t=this;a.a.$on("logout",function(){return t.$forceUpdate()})}}},132:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(17);i.default={data:function(){return{purchasedItems:[],loadingItems:!1}},methods:{hasLogin:function(){return a.a.hasLogin()},hasItem:function(){return 0!=this.purchasedItems.length},loadData:function(){var t=this;if(!this.loadingItems){this.loadingItems=!0;var i=a.a.getPurchases(a.a.getLogin().email);if(!i.length)return void(this.loadingItems=!1);for(var e=firebase.database().ref("/Products"),n=0,o=0;o<i.length;++o)!function(){var a=i[o];e.orderByKey().equalTo(a.toString()).on("value",function(e){if(n+=1,n===i.length&&(t.loadingItems=!1),e.val()){var o=e.val()[a];o.code=a,t.purchasedItems.push(o)}})}()}}},mounted:function(){this.loadData()}}},135:function(t,i,e){i=t.exports=e(2)(),i.push([t.i,".profile{width:100%;display:flex;flex-wrap:wrap}.profile-info{width:300px}.profile-info-avatar{width:256px;height:auto}.profile-apps{width:calc(100% - 300px);min-width:500px}",""])},139:function(t,i,e){i=t.exports=e(2)(),i.push([t.i,'@keyframes blinking{0%{color:#d3d3d3}to{color:gray}}.animated-loading-text{width:250px;font-size:24px;height:24px;text-align:center;position:fixed;top:calc(50vh - 12px);left:calc(50vw - .5 * 250px);animation-name:blinking;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;display:none;z-index:99;text-shadow:0 0 16px #fff}.material-button{position:relative;padding:12px;cursor:pointer;border:none;outline:none;border-radius:1px;box-shadow:0 1px 4px rgba(0,0,0,.6);background-color:#009688;color:#fff;transition:background-color .3s;overflow:hidden;font-size:14px;text-align:center}.material-button:hover{background-color:#00897b}.material-button:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:rgba(236,240,241,.2);transform:translate(-50%,-50%)}.material-button:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.material-card{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.purchased-list{min-height:100vh}.purchased-list-item{height:48px;margin-top:16px;margin-bottom:16px}.purchased-list-item a,.purchased-list-item a:hover,.purchased-list-item a:link,.purchased-list-item a:visited{color:gray}.purchased-list-item-image{width:auto;height:100%;vertical-align:middle;display:inline-block}.purchased-list-item-name{margin:0;vertical-align:middle;font-weight:400;display:inline-block;font-size:16px;padding-left:16px}.purchased-list-item-price{vertical-align:middle;padding-right:16px;display:inline-block;font-weight:700}.purchased-list-item-remove-button{width:48px;font-size:32px;cursor:pointer;display:inline-block;vertical-align:middle;text-align:center}.purchased-list-item-wrapper-left{float:left;margin:0;height:100%}.purchased-list-item-wrapper-right{float:right;margin:0;height:100%}.purchased-list-checkout-button{width:200px;font-size:20px;margin-left:auto;margin-right:auto;display:block}',""])},152:function(t,i,e){function a(t){e(169)}var n=e(1)(e(132),e(158),a,null,null);t.exports=n.exports},154:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.hasLogin()?e("div",{staticClass:"profile"},[e("div",{staticClass:"profile-info",attrs:{id:"profile"}},[e("h2",[t._v("Profile")]),t._v(" "),e("img",{staticClass:"profile-info-avatar",attrs:{src:t.getUserAvatar()}}),t._v(" "),e("h2",[t._v(t._s(t.username))]),t._v(" "),e("h4",[t._v("Location: "+t._s(t.location))]),t._v(" "),e("h4",[t._v("Join date: "+t._s(t.joinDate))])]),t._v(" "),e("div",{staticClass:"profile-apps"},[e("h2",[t._v("Purchased apps")]),t._v(" "),e("purchased-list")],1)]):e("div",[t._v("\n    Please "),e("router-link",{attrs:{to:"/login"}},[t._v("login")]),t._v(" to continue.\n")],1)},staticRenderFns:[]}},158:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.hasLogin()?e("div",{staticClass:"purchased-list"},[e("div",{staticClass:"animated-loading-text",style:{display:t.loadingItems?"block":"none"}},[t._v("\n        Loading\n    ")]),t._v(" "),t.hasItem()?e("div",t._l(t.purchasedItems,function(i){return e("div",{key:i.code,staticClass:"purchased-list-item material-card"},[e("router-link",{attrs:{to:{name:"app",params:{code:i.code}}}},[e("div",{staticClass:"purchased-list-item-wrapper-left"},[e("img",{staticClass:"purchased-list-item-image",attrs:{src:i.image,alt:""}}),t._v(" "),e("h1",{staticClass:"purchased-list-item-name"},[t._v(t._s(i.name))])]),t._v(" "),e("div",{staticClass:"purchased-list-item-wrapper-right"},[e("p",{staticClass:"purchased-list-item-price"},[t._v("$"+t._s(i.price))])])])],1)})):e("div",[t._v("\n        You haven't purchased any apps. "),e("router-link",{attrs:{to:"/"}},[t._v("Go shopping")]),t._v(" and add some!.\n    ")],1)]):t._e()},staticRenderFns:[]}},165:function(t,i,e){var a=e(135);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(3)("3acaa55a",a,!0)},169:function(t,i,e){var a=e(139);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(3)("abbb09d6",a,!0)}});
//# sourceMappingURL=2.build.js.map